<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Query nycflights13-Like Weather Data — get_weather • anyflights</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query nycflights13-Like Weather Data — get_weather"><meta name="description" content="This function generates a dataframe similar to the
weather dataset from nycflights13
for any US airports and time frame. Please
note that, even with a strong internet connection, this function
may take several minutes to download relevant data."><meta property="og:description" content="This function generates a dataframe similar to the
weather dataset from nycflights13
for any US airports and time frame. Please
note that, even with a strong internet connection, this function
may take several minutes to download relevant data."><meta property="og:image" content="https://simonpcouch.github.io/anyflights/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">anyflights</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.5.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/simonpcouch/anyflights/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Query nycflights13-Like Weather Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/simonpcouch/anyflights/blob/main/R/get_weather.R" class="external-link"><code>R/get_weather.R</code></a></small>
      <div class="d-none name"><code>get_weather.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function generates a dataframe similar to the
<code><a href="https://rdrr.io/pkg/nycflights13/man/weather.html" class="external-link">weather</a></code> dataset from <code>nycflights13</code>
for any US airports and time frame. Please
note that, even with a strong internet connection, this function
may take several minutes to download relevant data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_weather</span><span class="op">(</span><span class="va">station</span>, <span class="va">year</span>, month <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, dir <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>ASOS download from Iowa Environmental Mesonet,
  <a href="https://mesonet.agron.iastate.edu/request/download.phtml" class="external-link">https://mesonet.agron.iastate.edu/request/download.phtml</a></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-station">station<a class="anchor" aria-label="anchor" href="#arg-station"></a></dt>
<dd><p>A character vector giving the origin US airports of interest
(as the FAA LID airport code).</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>A numeric giving the year of interest. This argument is currently
not vectorized, as dataset sizes for single years are significantly large.
Information for the most recent year is usually available by February or
March in the following year.</p></dd>


<dt id="arg-month">month<a class="anchor" aria-label="anchor" href="#arg-month"></a></dt>
<dd><p>A numeric giving the month(s) of interest.</p></dd>


<dt id="arg-dir">dir<a class="anchor" aria-label="anchor" href="#arg-dir"></a></dt>
<dd><p>An optional character string giving the directory
to save datasets in. By default, datasets will not be saved to file.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame with ~1k-25k rows and 15 variables:</p><dl><dt><code>origin</code></dt>
<dd><p>Weather station. Named <code>origin</code> to facilitate
  merging with flights data</p></dd>

<dt><code>year, month, day, hour</code></dt>
<dd><p>Time of recording, UTC</p></dd>

<dt><code>temp, dewp</code></dt>
<dd><p>Temperature and dewpoint in F</p></dd>

<dt><code>humid</code></dt>
<dd><p>Relative humidity</p></dd>

<dt><code>wind_dir, wind_speed, wind_gust</code></dt>
<dd><p>Wind direction (in degrees),
  speed and gust speed (in mph)</p></dd>

<dt><code>precip</code></dt>
<dd><p>Precipitation, in inches</p></dd>

<dt><code>pressure</code></dt>
<dd><p>Sea level pressure in millibars</p></dd>

<dt><code>visib</code></dt>
<dd><p>Visibility in miles</p></dd>

<dt><code>time_hour</code></dt>
<dd><p>Date and hour of the recording as a <code>POSIXct</code>
  date, UTC</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="get_flights.html">get_flights</a></code> for flight data,
<code><a href="get_airlines.html">get_airlines</a></code> for airlines data,
<code><a href="get_airports.html">get_airports</a></code> for airports data,
<code><a href="get_planes.html">get_planes</a></code> for planes data,
or <code><a href="anyflights.html">anyflights</a></code> for a wrapper function.</p>
<p>Use the <code><a href="as_flights_package.html">as_flights_package</a></code> function to convert this dataset
to a data-only package.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># query weather at Portland International in June 2018</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">get_weather</span><span class="op">(</span><span class="st">"PDX"</span>, <span class="fl">2018</span>, <span class="fl">6</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ...or the original nycflights13 weather dataset</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">get_weather</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"JFK"</span>, <span class="st">"LGA"</span>, <span class="st">"EWR"</span><span class="op">)</span>, <span class="fl">2013</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use the dir argument to indicate the folder to </span></span></span>
<span class="r-in"><span><span class="co"># save the data in as "weather.rda"</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">get_weather</span><span class="op">(</span><span class="st">"PDX"</span>, <span class="fl">2018</span>, <span class="fl">6</span>, dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Simon P. Couch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

